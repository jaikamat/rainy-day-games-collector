const Sequelize = require('sequelize')
const sequelize = require('../initializedb');

const Card = sequelize.define('card', {
    isFlip: { type: Sequelize.BOOLEAN },
    color: { type: Sequelize.STRING },
    rarity: { type: Sequelize.STRING },
    title: { type: Sequelize.STRING },
    setCode: { type: Sequelize.STRING },
    price: { type: Sequelize.DECIMAL },
    quantity: { type: Sequelize.INTEGER }
});

// Seed data, TODO: Remove this
let data = [{ "id": 1, "isFlip": false, "color": "A", "rarity": "C", "title": "Azorius Locket", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.208Z", "updatedAt": "2019-02-04T18:18:39.208Z" }, { "id": 2, "isFlip": false, "color": "A", "rarity": "U", "title": "Dovins Automaton", "setCode": "RNA", "price": 1, "quantity": 3, "createdAt": "2019-02-04T18:18:39.209Z", "updatedAt": "2019-02-04T18:18:39.209Z" }, { "id": 3, "isFlip": false, "color": "A", "rarity": "U", "title": "Gate Colossus", "setCode": "RNA", "price": 0.5, "quantity": 8, "createdAt": "2019-02-04T18:18:39.209Z", "updatedAt": "2019-02-04T18:18:39.209Z" }, { "id": 4, "isFlip": false, "color": "A", "rarity": "R", "title": "Glass of the Guildpact", "setCode": "RNA", "price": 2, "quantity": 4, "createdAt": "2019-02-04T18:18:39.209Z", "updatedAt": "2019-02-04T18:18:39.209Z" }, { "id": 5, "isFlip": false, "color": "A", "rarity": "C", "title": "Gruul Locket", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.209Z", "updatedAt": "2019-02-04T18:18:39.209Z" }, { "id": 6, "isFlip": false, "color": "A", "rarity": "U", "title": "Junktroller", "setCode": "RNA", "price": 0.5, "quantity": 14, "createdAt": "2019-02-04T18:18:39.209Z", "updatedAt": "2019-02-04T18:18:39.209Z" }, { "id": 7, "isFlip": false, "color": "A", "rarity": "C", "title": "Orzhov Locket", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.210Z", "updatedAt": "2019-02-04T18:18:39.210Z" }, { "id": 8, "isFlip": false, "color": "A", "rarity": "C", "title": "Rakdos Locket", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.210Z", "updatedAt": "2019-02-04T18:18:39.210Z" }, { "id": 9, "isFlip": false, "color": "A", "rarity": "U", "title": "Scrabbling Claws", "setCode": "RNA", "price": 0.5, "quantity": 10, "createdAt": "2019-02-04T18:18:39.210Z", "updatedAt": "2019-02-04T18:18:39.210Z" }, { "id": 10, "isFlip": false, "color": "A", "rarity": "U", "title": "Screaming Shield", "setCode": "RNA", "price": 0.5, "quantity": 11, "createdAt": "2019-02-04T18:18:39.210Z", "updatedAt": "2019-02-04T18:18:39.210Z" }, { "id": 11, "isFlip": false, "color": "A", "rarity": "C", "title": "Simic Locket", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.210Z", "updatedAt": "2019-02-04T18:18:39.210Z" }, { "id": 12, "isFlip": false, "color": "A", "rarity": "U", "title": "Sphinx of the Guildpact", "setCode": "RNA", "price": 0.5, "quantity": 9, "createdAt": "2019-02-04T18:18:39.211Z", "updatedAt": "2019-02-04T18:18:39.211Z" }, { "id": 13, "isFlip": false, "color": "A", "rarity": "R", "title": "Tome of the Guildpact", "setCode": "RNA", "price": 2, "quantity": 4, "createdAt": "2019-02-04T18:18:39.211Z", "updatedAt": "2019-02-04T18:18:39.211Z" }, { "id": 14, "isFlip": false, "color": "B", "rarity": "R", "title": "Awaken the Erstwhile", "setCode": "RNA", "price": 2, "quantity": 4, "createdAt": "2019-02-04T18:18:39.211Z", "updatedAt": "2019-02-04T18:18:39.211Z" }, { "id": 15, "isFlip": false, "color": "B", "rarity": "U", "title": "Bankrupt in Blood", "setCode": "RNA", "price": 0.5, "quantity": 8, "createdAt": "2019-02-04T18:18:39.211Z", "updatedAt": "2019-02-04T18:18:39.211Z" }, { "id": 16, "isFlip": false, "color": "B", "rarity": "C", "title": "Blade Juggler", "setCode": "RNA", "price": 0.25, "quantity": 18, "createdAt": "2019-02-04T18:18:39.211Z", "updatedAt": "2019-02-04T18:18:39.211Z" }, { "id": 17, "isFlip": false, "color": "B", "rarity": "C", "title": "Bladebrand", "setCode": "RNA", "price": 0.25, "quantity": 19, "createdAt": "2019-02-04T18:18:39.211Z", "updatedAt": "2019-02-04T18:18:39.211Z" }, { "id": 18, "isFlip": false, "color": "B", "rarity": "U", "title": "Bloodmist Infiltrator", "setCode": "RNA", "price": 0.5, "quantity": 6, "createdAt": "2019-02-04T18:18:39.212Z", "updatedAt": "2019-02-04T18:18:39.212Z" }, { "id": 19, "isFlip": false, "color": "B", "rarity": "C", "title": "Carrion Imp", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.212Z", "updatedAt": "2019-02-04T18:18:39.212Z" }, { "id": 20, "isFlip": false, "color": "B", "rarity": "C", "title": "Catacomb Crocodile", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.212Z", "updatedAt": "2019-02-04T18:18:39.212Z" }, { "id": 21, "isFlip": false, "color": "B", "rarity": "U", "title": "Clear the Stage", "setCode": "RNA", "price": 0.5, "quantity": 8, "createdAt": "2019-02-04T18:18:39.212Z", "updatedAt": "2019-02-04T18:18:39.212Z" }, { "id": 22, "isFlip": false, "color": "B", "rarity": "C", "title": "Consign to the Pit", "setCode": "RNA", "price": 0.25, "quantity": 19, "createdAt": "2019-02-04T18:18:39.212Z", "updatedAt": "2019-02-04T18:18:39.212Z" }, { "id": 23, "isFlip": false, "color": "B", "rarity": "U", "title": "Cry of the Carnarium", "setCode": "RNA", "price": 0.5, "quantity": 3, "createdAt": "2019-02-04T18:18:39.213Z", "updatedAt": "2019-02-04T18:18:39.213Z" }, { "id": 24, "isFlip": false, "color": "B", "rarity": "C", "title": "Dead Revels", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.213Z", "updatedAt": "2019-02-04T18:18:39.213Z" }, { "id": 25, "isFlip": false, "color": "B", "rarity": "C", "title": "Debtors Transport", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.213Z", "updatedAt": "2019-02-04T18:18:39.213Z" }, { "id": 26, "isFlip": false, "color": "B", "rarity": "U", "title": "Drill Bit", "setCode": "RNA", "price": 0.5, "quantity": 10, "createdAt": "2019-02-04T18:18:39.213Z", "updatedAt": "2019-02-04T18:18:39.213Z" }, { "id": 27, "isFlip": false, "color": "B", "rarity": "R", "title": "Font of Agonies", "setCode": "RNA", "price": 2, "quantity": 4, "createdAt": "2019-02-04T18:18:39.213Z", "updatedAt": "2019-02-04T18:18:39.213Z" }, { "id": 28, "isFlip": false, "color": "B", "rarity": "C", "title": "Grotesque Demise", "setCode": "RNA", "price": 0.25, "quantity": 20, "createdAt": "2019-02-04T18:18:39.213Z", "updatedAt": "2019-02-04T18:18:39.213Z" }];

Card.sequelize.sync()
.then(() => {
    Promise.all(data.map((card) => {
        return Card.create(card)
    }));
    console.log('Cards table synced');
}).catch((error) => {
    console.log('There was an error syncing the Cards table')
});


module.exports = Card;